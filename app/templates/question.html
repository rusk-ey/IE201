{% extends "base.html" %}

{% block title %}Practice Problem{% endblock %}

{% block content %}
<h2 class="text-center">Practice Problem</h2>

<!-- Dynamically Handle Different Problem Types -->
{% if problem.type in ['Irregular', 'Uniform', 'Gradient'] %}
    <!-- Cash Flow Problem -->
    <div class="mt-4 text-center">
        <img src="data:image/png;base64,{{ problem.plot }}" alt="Cash Flow Diagram" class="img-fluid">
    </div>
    <div class="mt-4">
        <p><strong>Interest Rate (i):</strong> {{ problem.i * 100 }}%</p>
        <p><strong>Time Periods (n):</strong> {{ problem.n }}</p>
    </div>
{% else %}
    <!-- Arithmetic Problem -->
    <div class="mt-4">
        <p><strong>Question:</strong> {{ problem.question }}</p>
    </div>
{% endif %}

<!-- Multiple Choice Options -->
<form method="POST">
    <input type="hidden" name="problem_type" value="{{ problem.type }}">
    <input type="hidden" name="correct_answer" value="{{ problem.correct_answer }}">

    <p><strong>Choose an Answer:</strong></p>
    <div class="mb-3">
        {% for option in problem.options %}
            <div class="form-check">
                <input class="form-check-input" type="radio" name="answer" value="{{ option }}" id="option-{{ loop.index }}" required>
                <label class="form-check-label" for="option-{{ loop.index }}">
                    ${{ option }}
                </label>
            </div>
        {% endfor %}
    </div>
    <button type="submit" class="btn btn-primary">Submit Answer</button>
</form>
{% endblock %}